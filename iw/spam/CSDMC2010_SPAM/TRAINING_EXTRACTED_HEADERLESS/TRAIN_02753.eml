From nobody Tue Dec 16 09:15:47 2014
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 05/19/2010 12:47 PM, Erwan David wrote:
> 	Hi,
>=20
> I have a setup with 2 disks and following raid setting:
>=20
> sda1+sdb1 -> md0, /
> sda2+sdb2 -> md1 swap
> sda3+sdb3 -> md2 /home
>=20
> I'd like to resize partitions to get more space on md2 and less on md0.=
=09
>=20
> What would bea good way to achieve this ?

The "best" way to acheive this would be to use LVM above your software
RAID. At that point, it would be very painless, compared to what is
ahead of you now. If you're curious, here would be the steps:

mdadm -C /dev/md0 -n 2 -l 1 -a yes /dev/sd{a,b}
pvcreate /dev/md0
vgcreate home /dev/md0
lvcreate -L 1G -n swap home
lvcreate -L 10G -n root home
lvcreate -l 100%FREE -n home home

Then, for giving more space to home, and less to root, boot off a live
CD, and (assuming you're using ext3/4):

e2fsck /dev/home/root
resize2fs /dev/home/root 6G
lvreduce -L 6G /dev/home/root
lvextend -L +4G /dev/home/home
resize2fs /dev/home/home

That's it! However, because you chose not to use LVM, you will need to
boot of a live CD that supports Linux software RAID, rebuild the array,
and perform the resizing there. I'm not sure if GParted supports this or
not. Worth checking out, however.

I would personally recommend backing up your data, and reinstalling,
with LVM on top of your software RAID. You still have the redundancy,
and you have the awesome flexibility of resizing volumes with great ease.=


--=20
=2E O .   O . O   . . O   O . .   . O .
=2E . O   . O O   O . O   . O O   . . O
O O O   . O .   . O O   O O .   O O O

From nobody Tue Dec 16 09:15:47 2014
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.13 (GNU/Linux)
Comment: Public Key at: http://tinyurl.com/aaron-gpg
Comment: Using GnuPG with Fedora - http://enigmail.mozdev.org/

iQEcBAEBCgAGBQJL9Dy5AAoJEM55Ebf8BAiPJ88IALgWwc2K9wwDv5s8nDe7HwDb
1vd9nG3fpa/ZtbSvyf2F2ib+DSTtD92AElkPiFJBrwyUA7/K3q3fUnIn/RznAPhf
VLoQvb2R3j5JBxiPih9ckazBlGCGLHMB2MquaGZkDCsOR3lZ1Z/6X7bVIWhsoyaO
/IJamrYedzcML3ojU2GQUIGI0p0VEr/gyrBPQLNIDA0xZqrP1uBQ7I5pY7ckyMib
ukgzPsnrk/5HMEks/eGxHhBCejumRyqDp3yScawevXE8eBJYWTTRDg0EVZjKvekb
iPXXBkszUin8TD6CQivBcw2sLh6WpOL2iD4sAqX5P1C2d3OWf3+0HXzZ/A6JHNI=
=Xixo
-----END PGP SIGNATURE-----
